{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./Nav.css\";import{NavLink,useNavigate}from\"react-router-dom\";import taxMapLogo from\"../../assets/images/taxmap-official-logo.png\";import{getDepartments}from\"../../services/departmentService\";// 부처별 모드 요소\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Nav(){const navigate=useNavigate();// 카테고리 요소에 마우스 hover 시 보이는 세부 내용\nconst[hoveredItem,setHoveredItem]=useState(\"\");const[departments,setDepartments]=useState([]);// 부처별 모드 요소 로딩\nconst[isLoading,setIsLoading]=useState(false);// 부처별 모드 요소 로딩\n// 부처 데이터를 서버에서 가져오는 비동기 함수\nconst fetchDepartments=async()=>{try{setIsLoading(true);const data=await getDepartments();setDepartments(data);}catch(error){console.error(\"Error fetching departments:\",error);}finally{setIsLoading(false);}};// hoveredItem이 department 일때 fetchDepartments 호출\nuseEffect(()=>{if(hoveredItem===\"department\"&&departments.length===0){fetchDepartments();}},[hoveredItem]);const handleDepartmentClick=department=>{navigate(\"/map/department?category=\".concat(department));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:taxMapLogo,alt:\"taxMapLogo\",className:\"taxMapLogo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"links-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onMouseEnter:()=>setHoveredItem(\"service\"),onMouseLeave:()=>setHoveredItem(\"\"),children:[/*#__PURE__*/_jsx(NavLink,{to:\"/map/service\",className:\"service-mode\",children:\"\\uC11C\\uBE44\\uC2A4 \\uBAA8\\uB4DC\"}),hoveredItem===\"service\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",style:{display:\"grid\"},children:[/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uD589\\uC815 / \\uD1B5\\uC77C / \\uC678\\uAD50\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uC0AC\\uD68C\\uBCF5\\uC9C0\\uD5A5\\uC0C1\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uAD6D\\uD1A0\\uAC1C\\uBC1C\\uC9C0\\uC6D0\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uC548\\uC815\\uBCF4\\uC7A5\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uBCF4\\uD6C8\\uD5A5\\uC0C1\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uAD50\\uD1B5 / \\uBB3C\\uB958\\uC9C4\\uD765\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uAD50\\uC721 \\uBCF4\\uC7A5\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uACE0\\uC6A9\\uC548\\uC815\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uBC29\\uC1A1 / \\uD1B5\\uC2E0\\uC9C4\\uD765\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uBB38\\uD654\\uD65C\\uB3D9\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uC8FC\\uAC70\\uC548\\uC815\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uACFC\\uD559\\uAE30\\uC220\\uC9C4\\uD765\"}),/*#__PURE__*/_jsx(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:\"\\uAD00\\uAD11 / \\uD734\\uC591\\uD65C\\uB3D9\"}),/*#__PURE__*/_jsxs(NavLink,{to:{pathname:\"/map/service\",search:\"?category=\"},children:[\" \",\"\\uBCF4\\uAC74 / \\uC758\\uB8CC\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onMouseEnter:()=>setHoveredItem(\"department\"),onMouseLeave:()=>setHoveredItem(\"\"),children:[/*#__PURE__*/_jsx(NavLink,{to:\"/map/department\",className:\"department-mode\",children:\"\\uBD80\\uCC98\\uBCC4 \\uBAA8\\uB4DC\"}),hoveredItem===\"department\"&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",style:{display:\"grid\"},children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):departments.map((department,index)=>/*#__PURE__*/_jsx(NavLink,{className:\"dropdown-item\",to:{pathname:\"/map/department\",search:\"?category=\".concat(department)},children:department},index))})]})]})]})});}export default Nav;","map":{"version":3,"names":["React","useEffect","useState","NavLink","useNavigate","taxMapLogo","getDepartments","jsx","_jsx","jsxs","_jsxs","Nav","navigate","hoveredItem","setHoveredItem","departments","setDepartments","isLoading","setIsLoading","fetchDepartments","data","error","console","length","handleDepartmentClick","department","concat","children","className","href","src","alt","onMouseEnter","onMouseLeave","to","style","display","pathname","search","map","index"],"sources":["D:/Users/PJH/Dongguk/tax-map-frontend/src/components/Nav/Nav.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Nav.css\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport taxMapLogo from \"../../assets/images/taxmap-official-logo.png\";\r\nimport { getDepartments } from \"../../services/departmentService\"; // 부처별 모드 요소\r\n\r\nfunction Nav() {\r\n  const navigate = useNavigate();\r\n  // 카테고리 요소에 마우스 hover 시 보이는 세부 내용\r\n  const [hoveredItem, setHoveredItem] = useState(\"\");\r\n  const [departments, setDepartments] = useState([]); // 부처별 모드 요소 로딩\r\n  const [isLoading, setIsLoading] = useState(false); // 부처별 모드 요소 로딩\r\n\r\n  // 부처 데이터를 서버에서 가져오는 비동기 함수\r\n  const fetchDepartments = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const data = await getDepartments();\r\n      setDepartments(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching departments:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // hoveredItem이 department 일때 fetchDepartments 호출\r\n  useEffect(() => {\r\n    if (hoveredItem === \"department\" && departments.length === 0) {\r\n      fetchDepartments();\r\n    }\r\n  }, [hoveredItem]);\r\n\r\n  const handleDepartmentClick = (department) => {\r\n    navigate(`/map/department?category=${department}`);\r\n  };\r\n  return (\r\n    <div>\r\n      {/* NavBar*/}\r\n      <div className=\"nav-bar\">\r\n        <a href=\"/\">\r\n          <img src={taxMapLogo} alt=\"taxMapLogo\" className=\"taxMapLogo\"></img>\r\n        </a>\r\n        <div className=\"links-container\">\r\n          <div\r\n            className=\"nav-item\"\r\n            onMouseEnter={() => setHoveredItem(\"service\")}\r\n            onMouseLeave={() => setHoveredItem(\"\")}\r\n          >\r\n            <NavLink to=\"/map/service\" className=\"service-mode\">\r\n              서비스 모드\r\n            </NavLink>\r\n            {hoveredItem === \"service\" && (\r\n              <div className=\"dropdown-content\" style={{ display: \"grid\" }}>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  행정 / 통일 / 외교\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  사회복지향상\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  국토개발지원\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  안정보장\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  보훈향상\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  교통 / 물류진흥\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  교육 보장\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  고용안정\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  방송 / 통신진흥\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  문화활동\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  주거안정\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  과학기술진흥\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  관광 / 휴양활동\r\n                </NavLink>\r\n                <NavLink\r\n                  to={{ pathname: \"/map/service\", search: \"?category=\" }}\r\n                >\r\n                  {\" \"}\r\n                  보건 / 의료\r\n                </NavLink>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div\r\n            className=\"nav-item\"\r\n            onMouseEnter={() => setHoveredItem(\"department\")}\r\n            onMouseLeave={() => setHoveredItem(\"\")}\r\n          >\r\n            <NavLink to=\"/map/department\" className=\"department-mode\">\r\n              부처별 모드\r\n            </NavLink>\r\n            {hoveredItem === \"department\" && (\r\n              <div className=\"dropdown-content\" style={{ display: \"grid\" }}>\r\n                {isLoading ? (\r\n                  <p>Loading...</p>\r\n                ) : (\r\n                  departments.map((department, index) => (\r\n                    <NavLink\r\n                      key={index}\r\n                      className=\"dropdown-item\"\r\n                      to={{\r\n                        pathname: \"/map/department\",\r\n                        search: `?category=${department}`,\r\n                      }}\r\n                    >\r\n                      {department}\r\n                    </NavLink>\r\n                  ))\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}