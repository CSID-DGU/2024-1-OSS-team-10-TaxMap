{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import\"./MapContent.css\";import Sidebar from\"../Sidebar/Sidebar\";import clicked_largest_icon from\"../../assets/images/markers/marker_icon_largest_clicked.png\";import clicked_middle_icon from\"../../assets/images/markers/marker_icon_middle_clicked.png\";import clicked_low_icon from\"../../assets/images/markers/marker_icon_low_clicked.png\";import largest_icon from\"../../assets/images/markers/marker_icon_largest.png\";import middle_icon from\"../../assets/images/markers/marker_icon_middle.png\";import low_icon from\"../../assets/images/markers/marker_icon_low.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MapContent(_ref){let{coordinates}=_ref;const mapContainerRef=useRef(null);const[markers,setMarkers]=useState([]);const[selectedMarker,setSelectedMarker]=useState(null);const[clickMarker,setClickMarker]=useState(null);const closeSidebar=()=>{setSelectedMarker(null);setClickMarker(null);};useEffect(()=>{const script=document.createElement(\"script\");script.src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=\".concat(process.env.REACT_APP_KAKAO_MAP_API_KEY,\"&autoload=false\");document.head.appendChild(script);script.onload=()=>{window.kakao.maps.load(()=>{const options={center:new window.kakao.maps.LatLng(coordinates?coordinates.lat:37.55805491922956,coordinates?coordinates.lng:126.99832780535394),level:4};const map=new window.kakao.maps.Map(mapContainerRef.current,options);window.kakao.maps.event.addListener(map,\"bounds_changed\",async()=>{const bounds=map.getBounds();const swLatLng=bounds.getSouthWest();const neLatLng=bounds.getNorthEast();try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/map/view\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({minLat:swLatLng.getLat(),maxLat:neLatLng.getLat(),minLng:swLatLng.getLng(),maxLng:neLatLng.getLng()})});if(response.ok){const data=await response.json();// 동일 주소의 총 사업비 합산\nconst markerMap={};data.forEach(marker=>{if(!markerMap[marker.address]){markerMap[marker.address]={...marker,totalExpense:0};}marker.organizations.forEach(org=>{markerMap[marker.address].totalExpense+=org.totalReceivedSubsidy;});});const expenses=Object.values(markerMap);setMarkers(expenses);expenses.forEach(markerData=>{let markerImage;if(markerData.totalExpense>=1500000000){markerImage=largest_icon;}else if(markerData.totalExpense>=70000000){markerImage=middle_icon;}else{markerImage=low_icon;}const marker=new window.kakao.maps.Marker({map:map,position:new window.kakao.maps.LatLng(markerData.latitude,markerData.longitude),title:markerData.address,image:new window.kakao.maps.MarkerImage(markerImage,new window.kakao.maps.Size(24,35))});window.kakao.maps.event.addListener(marker,\"click\",async()=>{if(clickMarker){const{marker:prevMarker,data:prevData}=clickMarker;let previousMarkerImage;if(prevData.totalExpense>=1500000000){previousMarkerImage=largest_icon;}else if(prevData.totalExpense>=100000000){previousMarkerImage=middle_icon;}else{previousMarkerImage=low_icon;}prevMarker.setImage(new window.kakao.maps.MarkerImage(previousMarkerImage,new window.kakao.maps.Size(24,35)));}let clickedMarkerImage;if(markerData.totalExpense>=100000000){clickedMarkerImage=clicked_largest_icon;}else if(markerData.totalExpense>=10000000){clickedMarkerImage=clicked_middle_icon;}else{clickedMarkerImage=clicked_low_icon;}marker.setImage(new window.kakao.maps.MarkerImage(clickedMarkerImage,new window.kakao.maps.Size(24,35)));if(clickMarker&&clickMarker.marker===marker){marker.setImage(new window.kakao.maps.MarkerImage(markerImage,new window.kakao.maps.Size(24,35)));setClickMarker(null);return;}setClickMarker({marker,data:markerData});console.log(\"Marker Data:\",markerData);try{const orgSubsidies=await Promise.all(markerData.organizations.map(async org=>{const subsidyPromises=org.subsidies.map(async sub=>{try{const subsidyResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/subsidy/\").concat(sub.id));if(subsidyResponse.ok){return await subsidyResponse.json();}else{console.error(\"Failed to fetch subsidy details for subsidy ID: \".concat(sub.id));return null;}}catch(subError){console.error(\"Error fetching subsidy details for subsidy ID: \".concat(sub.id),subError);return null;}});return{...org,subsidies:await Promise.all(subsidyPromises).then(results=>results.filter(res=>res!==null))};}));setSelectedMarker({...markerData,organizations:orgSubsidies});}catch(orgError){console.error(\"Error fetching organizations subsidies details:\",orgError);}});});}else{throw new Error(\"Failed to fetch markers\");}}catch(error){console.error(\"Error fetching organizations within bounds:\",error);}});});};},[coordinates]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{ref:mapContainerRef,className:\"map-container\"}),selectedMarker&&/*#__PURE__*/_jsx(Sidebar,{marker:selectedMarker,onClose:closeSidebar})]});}export default MapContent;","map":{"version":3,"names":["React","useEffect","useRef","useState","Sidebar","clicked_largest_icon","clicked_middle_icon","clicked_low_icon","largest_icon","middle_icon","low_icon","jsx","_jsx","jsxs","_jsxs","MapContent","_ref","coordinates","mapContainerRef","markers","setMarkers","selectedMarker","setSelectedMarker","clickMarker","setClickMarker","closeSidebar","script","document","createElement","src","concat","process","env","REACT_APP_KAKAO_MAP_API_KEY","head","appendChild","onload","window","kakao","maps","load","options","center","LatLng","lat","lng","level","map","Map","current","event","addListener","bounds","getBounds","swLatLng","getSouthWest","neLatLng","getNorthEast","response","fetch","REACT_APP_API_URL","method","headers","body","JSON","stringify","minLat","getLat","maxLat","minLng","getLng","maxLng","ok","data","json","markerMap","forEach","marker","address","totalExpense","organizations","org","totalReceivedSubsidy","expenses","Object","values","markerData","markerImage","Marker","position","latitude","longitude","title","image","MarkerImage","Size","prevMarker","prevData","previousMarkerImage","setImage","clickedMarkerImage","console","log","orgSubsidies","Promise","all","subsidyPromises","subsidies","sub","subsidyResponse","id","error","subError","then","results","filter","res","orgError","Error","children","ref","className","onClose"],"sources":["D:/Users/PJH/Dongguk/tax-map-frontend/src/components/MapContent/MapContent.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./MapContent.css\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport clicked_largest_icon from \"../../assets/images/markers/marker_icon_largest_clicked.png\";\r\nimport clicked_middle_icon from \"../../assets/images/markers/marker_icon_middle_clicked.png\";\r\nimport clicked_low_icon from \"../../assets/images/markers/marker_icon_low_clicked.png\";\r\nimport largest_icon from \"../../assets/images/markers/marker_icon_largest.png\";\r\nimport middle_icon from \"../../assets/images/markers/marker_icon_middle.png\";\r\nimport low_icon from \"../../assets/images/markers/marker_icon_low.png\";\r\n\r\nfunction MapContent({ coordinates }) {\r\n  const mapContainerRef = useRef(null);\r\n  const [markers, setMarkers] = useState([]);\r\n  const [selectedMarker, setSelectedMarker] = useState(null);\r\n  const [clickMarker, setClickMarker] = useState(null);\r\n\r\n  const closeSidebar = () => {\r\n    setSelectedMarker(null);\r\n    setClickMarker(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = `//dapi.kakao.com/v2/maps/sdk.js?appkey=${process.env.REACT_APP_KAKAO_MAP_API_KEY}&autoload=false`;\r\n    document.head.appendChild(script);\r\n\r\n    script.onload = () => {\r\n      window.kakao.maps.load(() => {\r\n        const options = {\r\n          center: new window.kakao.maps.LatLng(\r\n            coordinates ? coordinates.lat : 37.55805491922956,\r\n            coordinates ? coordinates.lng : 126.99832780535394\r\n          ),\r\n          level: 4,\r\n        };\r\n        const map = new window.kakao.maps.Map(mapContainerRef.current, options);\r\n\r\n        window.kakao.maps.event.addListener(map, \"bounds_changed\", async () => {\r\n          const bounds = map.getBounds();\r\n          const swLatLng = bounds.getSouthWest();\r\n          const neLatLng = bounds.getNorthEast();\r\n\r\n          try {\r\n            const response = await fetch(\r\n              `${process.env.REACT_APP_API_URL}/api/map/view`,\r\n              {\r\n                method: \"POST\",\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                  minLat: swLatLng.getLat(),\r\n                  maxLat: neLatLng.getLat(),\r\n                  minLng: swLatLng.getLng(),\r\n                  maxLng: neLatLng.getLng(),\r\n                }),\r\n              }\r\n            );\r\n            if (response.ok) {\r\n              const data = await response.json();\r\n\r\n              // 동일 주소의 총 사업비 합산\r\n              const markerMap = {};\r\n              data.forEach((marker) => {\r\n                if (!markerMap[marker.address]) {\r\n                  markerMap[marker.address] = {\r\n                    ...marker,\r\n                    totalExpense: 0,\r\n                  };\r\n                }\r\n                marker.organizations.forEach((org) => {\r\n                  markerMap[marker.address].totalExpense +=\r\n                    org.totalReceivedSubsidy;\r\n                });\r\n              });\r\n\r\n              const expenses = Object.values(markerMap);\r\n              setMarkers(expenses);\r\n\r\n              expenses.forEach((markerData) => {\r\n                let markerImage;\r\n                if (markerData.totalExpense >= 1500000000) {\r\n                  markerImage = largest_icon;\r\n                } else if (markerData.totalExpense >= 70000000) {\r\n                  markerImage = middle_icon;\r\n                } else {\r\n                  markerImage = low_icon;\r\n                }\r\n\r\n                const marker = new window.kakao.maps.Marker({\r\n                  map: map,\r\n                  position: new window.kakao.maps.LatLng(\r\n                    markerData.latitude,\r\n                    markerData.longitude\r\n                  ),\r\n                  title: markerData.address,\r\n                  image: new window.kakao.maps.MarkerImage(\r\n                    markerImage,\r\n                    new window.kakao.maps.Size(24, 35)\r\n                  ),\r\n                });\r\n\r\n                window.kakao.maps.event.addListener(\r\n                  marker,\r\n                  \"click\",\r\n                  async () => {\r\n                    if (clickMarker) {\r\n                      const { marker: prevMarker, data: prevData } =\r\n                        clickMarker;\r\n                      let previousMarkerImage;\r\n                      if (prevData.totalExpense >= 1500000000) {\r\n                        previousMarkerImage = largest_icon;\r\n                      } else if (prevData.totalExpense >= 100000000) {\r\n                        previousMarkerImage = middle_icon;\r\n                      } else {\r\n                        previousMarkerImage = low_icon;\r\n                      }\r\n                      prevMarker.setImage(\r\n                        new window.kakao.maps.MarkerImage(\r\n                          previousMarkerImage,\r\n                          new window.kakao.maps.Size(24, 35)\r\n                        )\r\n                      );\r\n                    }\r\n\r\n                    let clickedMarkerImage;\r\n                    if (markerData.totalExpense >= 100000000) {\r\n                      clickedMarkerImage = clicked_largest_icon;\r\n                    } else if (markerData.totalExpense >= 10000000) {\r\n                      clickedMarkerImage = clicked_middle_icon;\r\n                    } else {\r\n                      clickedMarkerImage = clicked_low_icon;\r\n                    }\r\n\r\n                    marker.setImage(\r\n                      new window.kakao.maps.MarkerImage(\r\n                        clickedMarkerImage,\r\n                        new window.kakao.maps.Size(24, 35)\r\n                      )\r\n                    );\r\n\r\n                    if (clickMarker && clickMarker.marker === marker) {\r\n                      marker.setImage(\r\n                        new window.kakao.maps.MarkerImage(\r\n                          markerImage,\r\n                          new window.kakao.maps.Size(24, 35)\r\n                        )\r\n                      );\r\n                      setClickMarker(null);\r\n                      return;\r\n                    }\r\n\r\n                    setClickMarker({ marker, data: markerData });\r\n\r\n                    console.log(\"Marker Data:\", markerData);\r\n\r\n                    try {\r\n                      const orgSubsidies = await Promise.all(\r\n                        markerData.organizations.map(async (org) => {\r\n                          const subsidyPromises = org.subsidies.map(\r\n                            async (sub) => {\r\n                              try {\r\n                                const subsidyResponse = await fetch(\r\n                                  `${process.env.REACT_APP_API_URL}/api/subsidy/${sub.id}`\r\n                                );\r\n                                if (subsidyResponse.ok) {\r\n                                  return await subsidyResponse.json();\r\n                                } else {\r\n                                  console.error(\r\n                                    `Failed to fetch subsidy details for subsidy ID: ${sub.id}`\r\n                                  );\r\n                                  return null;\r\n                                }\r\n                              } catch (subError) {\r\n                                console.error(\r\n                                  `Error fetching subsidy details for subsidy ID: ${sub.id}`,\r\n                                  subError\r\n                                );\r\n                                return null;\r\n                              }\r\n                            }\r\n                          );\r\n                          return {\r\n                            ...org,\r\n                            subsidies: await Promise.all(subsidyPromises).then(\r\n                              (results) => results.filter((res) => res !== null)\r\n                            ),\r\n                          };\r\n                        })\r\n                      );\r\n\r\n                      setSelectedMarker({\r\n                        ...markerData,\r\n                        organizations: orgSubsidies,\r\n                      });\r\n                    } catch (orgError) {\r\n                      console.error(\r\n                        \"Error fetching organizations subsidies details:\",\r\n                        orgError\r\n                      );\r\n                    }\r\n                  }\r\n                );\r\n              });\r\n            } else {\r\n              throw new Error(\"Failed to fetch markers\");\r\n            }\r\n          } catch (error) {\r\n            console.error(\"Error fetching organizations within bounds:\", error);\r\n          }\r\n        });\r\n      });\r\n    };\r\n  }, [coordinates]);\r\n\r\n  return (\r\n    <div>\r\n      <div ref={mapContainerRef} className=\"map-container\"></div>\r\n      {selectedMarker && (\r\n        <Sidebar marker={selectedMarker} onClose={closeSidebar} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default MapContent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}